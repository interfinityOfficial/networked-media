<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/project1/styles.css" />
    <title>Envelope 3</title>
  </head>
  <body>
    <main>
      <div class="letter">
        <h3 class="sender-address" style="margin-top: 30px">
          Charles Zhang<br />
          167.71.167.224<br />
          Clifton<br />
          United States of America<br />
          The Internet
        </h3>
        <h3 class="recipient-address" style="margin-top: 60px">
          You<br />
          <span id="ip">127.0.0.1</span><br />
          <span id="city">New York City</span><br />
          <span id="country">United States of America</span><br />
          The Internet
        </h3>
        <p
          class="letter-content"
          style="margin-top: 60px; margin-bottom: 90px"
        >
          Hi again,<br /><br />
          Today I visited a few waterfalls, my favorite one being
          Seljalandsfoss. It almost emerged out of nowhere and drew a beautiful
          curve from a cliff to the ground below.
          <br /><br />
          The best thing was I could walk around to the back of the waterfall,
          and feel the splashes of mist fall on me, as if Iâ€™m touching it,
          connected with it.
          <br /><br />
          Plus, the waterfall creates amazingly clear and colorful rainbows.<br /><br />

          Best,<br />
          Charles Zhang
        </p>
      </div>
      <div class="divider"></div>
      <div class="links">
        <a
          class="link"
          href="/project1/mail/2/"
          style="padding-top: 40px; padding-bottom: 40px; text-align: left"
          >Open Previous Envelope</a
        >
        <a
          class="link"
          href="/project1/mail/4/"
          style="padding-top: 40px; padding-bottom: 40px; text-align: right"
          >Open Next Envelope</a
        >
      </div>
    </main>

    <script>
      fetch("/api/ip/")
        .then((response) => response.json())
        .then((data) => {
          document.getElementById("ip").textContent = data.ip;
          document.getElementById("city").textContent = data.city;
          document.getElementById("country").textContent = data.country;
        })
        .catch((error) => {
          console.error("Error fetching IP address:", error);
        });

      localStorage.setItem("read_3", "true");
    </script>
  </body>
</html>
